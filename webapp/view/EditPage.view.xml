<mvc:View xmlns:core="sap.ui.core"
          xmlns:mvc="sap.ui.core.mvc"
          xmlns="sap.m"
          xmlns:sap.ui.layout.form="sap.ui.layout.form"
          controllerName="sapips.training.employeeapp.controller.EditPage">

    <Page id="idEditPage" title="{i18n>editTitle}" showNavButton="true" navButtonPress="onClickBack">
        <content>
            <sap.ui.layout.form:SimpleForm
                editable="true"
                layout="ResponsiveGridLayout"
                id="formEditRec">

                <sap.ui.layout.form:content>
                    <core:Title id="_IDGenTitle1" text="{= ${employeedetails>/FirstName} + ' ' + ${employeedetails>/LastName} }" />

                    <!-- EID (read-only) -->
                    <Label id="_IDGenLabel" text="{i18n>eidTxt}" />
                    <Input id="_IDGenInput" value="{employeedetails>/EmployeeID}" editable="false" width="100%" />

                    <!-- First Name -->
                    <Label id="_IDGenLabel1" text="{i18n>fnameTxt}" />
                    <Input id="_IDGenInput1" value="{employeedetails>/FirstName}" width="100%" required="true" />

                    <!-- Last Name -->
                    <Label id="_IDGenLabel2" text="{i18n>lnameTxt}" />
                    <Input id="_IDGenInput2" value="{employeedetails>/LastName}" width="100%" required="true" />

                    <!-- Age -->
                    <Label id="_IDGenLabel3" text="{i18n>ageTxt}" />
                    <Input id="_IDGenInput3" value="{employeedetails>/Age}" width="100%" required="true" />

                    <!-- Hire Date -->
                    <Label id="_IDGenLabel4" text="{i18n>hdateTxt}" />
                    <DatePicker id="_IDGenDatePicker" value="{employeedetails>/DateHire}" displayFormat="yyyy-MM-dd" />

                    <!-- Career Level -->
                    <Label id="_IDGenLabel5" text="{i18n>clvlTxt}" />
                    <Select id="_IDGenSelect" selectedKey="{employeedetails>/CareerLevel}" items="{/CAREERLIST}">
                        <items>
                            <core:Item id="_IDGenItem" key="{CareerLevel}" text="{CareerLevel}" />
                        </items>
                    </Select>

                    <!-- Current Project -->
                    <Label id="_IDGenLabel6" text="{i18n>cprojTxt}" />
                    <Select id="_IDGenSelect1" selectedKey="{employeedetails>/CurrentProject}" items="{/PROJECTLIST}">
                        <items>
                            <core:Item id="_IDGenItem1" key="{ProjectName}" text="{ProjectName}" />
                        </items>
                    </Select>
                </sap.ui.layout.form:content>
            </sap.ui.layout.form:SimpleForm>

            <!-- Skills Table  -->
            <Table id="skillsTable1" items="{skills>/}">
                <columns>
                    <Column id="_IDGenColumn1">
                        <header>
                            <Label id="_IDGenLabel7" text="{i18n>skillTxt}" />
                        </header>
                    </Column>
                    <Column id="_IDGenColumn2">
                        <header>
                            <Label id="_IDGenLabel8" text="{i18n>pro}" />
                        </header>
                    </Column>
                </columns>

                <items>
                    <ColumnListItem id="_IDGenColumnListItem">
                        <cells>
                            <!-- Skill Select Dropdown -->
                            <Select id="_IDGenSelect2"
                                width="100%"
                                selectedKey="{skills>SkillID}"
                                items="{/SKILL}">
                                <core:Item id="_IDGenItem2" key="{SkillID}" text="{SkillName}" />
                            </Select>

                            <!-- Proficiency Select Dropdown -->
                           <Select id="proficiencyselect" width="100%" selectedKey="{proficiency>ProficiencyID}" items="{proficiencyList>/}">
                                <core:Item id="proficiencyItem" key="{proficiencyList>ProficiencyID}" text="{proficiencyList>ProficiencyID}" />
                            </Select>
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>
        </content>

        <footer>
            <Toolbar id="_IDGenToolbar">
                <ToolbarSpacer id="_IDGenToolbarSpacer1" />
                <Button id="_IDGenButton1" text="{i18n>upbtn}" type="Emphasized" press=".onSave" />
                <Button id="_IDGenButton2" text="{i18n>cancel}" press=".onClickBack" />
            </Toolbar>
        </footer>
    </Page>
</mvc:View>
